<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Korean Quotes</title>

    <link rel="stylesheet" href="main.css">

</head>

<body>
    <div id="bg">
        <img id="image" src="https://i.ibb.co/tBVLZDs/background-Image-5.jpg" alt="배경이미지입니다.">
        <div id="quote">
            <p id="quote_1">한국어 명언 위젯입니다.</p>
            <p id="quote_2">5분마다 새로운 명언으로 바뀝니다.</p>
            <p id="changeButton" onclick="resetQuote()">새로고침</p>
        </div>
    </div>

    <script>
        const images = ["https://i.ibb.co/tBVLZDs/background-Image-5.jpg",
            "https://i.ibb.co/NCVpQfm/background-Image-4.jpg",
            "https://i.ibb.co/JFdmJgD/background-Image-3.jpg",
            "https://i.ibb.co/QXnwKsp/background-Image-2.jpg",
            "https://i.ibb.co/FhmPR8Y/background-Image-1.jpg",]
            ;

        function preload(images) {
            let n = images.length;
            for (let i = 0; i < n; i++) {
                let img = new Image();
                img.src = images[i];
            }
        };
        preload(images);
        const IMG_COUNT = images.length;

        function randomInt(max) {
            let num = Math.floor(Math.random(0, 1) * max);
            return num;
        }

        function browseRandomImage() {
            document.getElementById(
                "image"
            ).src = images[randomInt(IMG_COUNT)];
        }

        const quotes = [{ quote: "우리는 딱 우리가 생각하는 만큼의 삶을 산다.", author: "기획의 정석, 박신영" }, { quote: "시간이 흐른다고 미래가 되지는 않는다.", author: "Zero to ONE, Blake Masters and Peter Thiel" }, { quote: "행동만이 삶에 힘을 주고 절제만이 삶에 매력을 준다", author: "장 폴 리히터" }, { quote: "교육은 더 높은 수준의 편견을 얻는 방법이다", author: "로렌스 J. 피터" }, { quote: "인내할 수 있는 사람은 그가 바라는 것은 무엇이든지 손에 넣을 수 있다", author: "벤자민 프랭클린" }];

        const QUOTE_COUNT = quotes.length;

        function browseRandomQuote(quotes) {
            const quoteNumber = randomInt(QUOTE_COUNT);
            document.getElementById('quote_1').innerHTML = quotes[quoteNumber].quote;
            document.getElementById('quote_2').innerHTML = quotes[quoteNumber].author;
        }

        const ONE_MINUTE = 1000 * 60;

        function browseRandom() {
            browseRandomImage();
            browseRandomQuote(quotes);
        }

        function initialBrowse(initial) {
            //안내 멘트 이후 5초 기다리기
            if (initial) {
                setTimeout(() => {
                    browseRandom();
                    goRandom = setInterval(() => {
                        browseRandom();
                    }, 1000)
                }, 5000)
            } else {
                goRandom = setInterval(() => {
                    browseRandom();
                }, 1000)
            }

        }

        function resetQuote() {
            clearInterval(goRandom);
            browseRandom();
            initialBrowse(false);
        }

        initialBrowse(true);



    </script>
</body>


</html>